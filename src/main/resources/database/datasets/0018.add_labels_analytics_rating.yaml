databaseChangeLog:
  - logicalFilePath: path_independent                
  - changeSet:
      id: 0018.add_labels_analytics_rating.1
      author: codeschluss
      changes:
        - sql:
            comment: Add labels
            splitStatements: true
            sql:
               /*!40101 SET character_set_client = utf8 */;
               /* Set variables */
               SET @tagId   = "percentages";
               SET @german  = "Prozent";
               SET @english = "Percentages";

               /* Insert */
               insert into labels (`id`, `tag_id`) values
               (uuid(), @tagId COLLATE utf8mb4_unicode_ci);
                
               insert into label_translatables (`id`, `parent_id`, `language_id`, `content`)
               select uuid(), p.id, l.id, @german COLLATE utf8mb4_unicode_ci
               from labels p, languages l
               WHERE p.tag_id = @tagId COLLATE utf8mb4_unicode_ci
               AND l.locale = "de";

               insert into label_translatables (`id`, `parent_id`, `language_id`, `content`)
               select uuid(), p.id, l.id, @english COLLATE utf8mb4_unicode_ci
               from labels p, languages l
               WHERE p.tag_id = @tagId COLLATE utf8mb4_unicode_ci
               AND l.locale = "en";
               
  - changeSet:
      id: 0018.add_labels_analytics_rating.2
      author: codeschluss
      changes:
        - sql:
            comment: Add labels
            splitStatements: true
            sql:
               /*!40101 SET character_set_client = utf8 */;
               /* Set variables */
               SET @tagId   = "amount";
               SET @german  = "Anzahl";
               SET @english = "Amount";

               /* Insert */
               insert into labels (`id`, `tag_id`) values
               (uuid(), @tagId COLLATE utf8mb4_unicode_ci);
                
               insert into label_translatables (`id`, `parent_id`, `language_id`, `content`)
               select uuid(), p.id, l.id, @german COLLATE utf8mb4_unicode_ci
               from labels p, languages l
               WHERE p.tag_id = @tagId COLLATE utf8mb4_unicode_ci
               AND l.locale = "de";

               insert into label_translatables (`id`, `parent_id`, `language_id`, `content`)
               select uuid(), p.id, l.id, @english COLLATE utf8mb4_unicode_ci
               from labels p, languages l
               WHERE p.tag_id = @tagId COLLATE utf8mb4_unicode_ci
               AND l.locale = "en";
               
  - changeSet:
      id: 0018.add_labels_analytics_rating.3
      author: codeschluss
      changes:
        - sql:
            comment: Add labels
            splitStatements: true
            sql:
               /*!40101 SET character_set_client = utf8 */;
               /* Set variables */
               SET @tagId   = "averageRating";
               SET @german  = "Durchschnittliche Bewertung";
               SET @english = "Average rating";

               /* Insert */
               insert into labels (`id`, `tag_id`) values
               (uuid(), @tagId COLLATE utf8mb4_unicode_ci);
                
               insert into label_translatables (`id`, `parent_id`, `language_id`, `content`)
               select uuid(), p.id, l.id, @german COLLATE utf8mb4_unicode_ci
               from labels p, languages l
               WHERE p.tag_id = @tagId COLLATE utf8mb4_unicode_ci
               AND l.locale = "de";

               insert into label_translatables (`id`, `parent_id`, `language_id`, `content`)
               select uuid(), p.id, l.id, @english COLLATE utf8mb4_unicode_ci
               from labels p, languages l
               WHERE p.tag_id = @tagId COLLATE utf8mb4_unicode_ci
               AND l.locale = "en";
               
