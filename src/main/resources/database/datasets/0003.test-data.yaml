databaseChangeLog:
  - logicalFilePath: path_independent

  - changeSet:
      id: 0003.test-data.1
      author: codeschluss
      changes:
        - sql:
            comment: Add media
            splitStatements: true
            sql:                           
               insert into media (`id`, `name`, `mime_type`) values
               ('3e791600-8e00-4069-a060-4862c44da93b', 'logo', 'image/png'),
               ('1774bd91-1698-4c4a-8f16-3a0a98fdef32', 'landing', 'image/jpg'),
               ('fc8a64b5-7335-4309-a5c1-e9d2de53c338', 'favicon', 'image/x-icon'),
               ('6c92cfcd-d65d-47d9-bdc5-b8004afe916c', 'logoText', 'image/png');

  - changeSet:
      id: 0003.test-data.2
      author: codeschluss
      changes:
        - sql:
            comment: Add data reports
            splitStatements: true
            sql: insert into reports (id, `name`, email, type_id) values
              ('29c9ebf0-ac66-4752-a123-82f691cd8d72', 'TestFeedback', 'Feedback@example.com', '29c9ebf0-ac66-4752-a123-82f691cd8d72');
              
  - changeSet:
      id: 0003.test-data.3
      author: codeschluss
      changes:
        - sql:
            comment: Add data report_translatables
            splitStatements: true
            sql: insert into report_translatables (id, parent_id, language_id, content)
                 select uuid(), "29c9ebf0-ac66-4752-a123-82f691cd8d72", l.id, "Alles gut, arbeite weiter!"
                 from languages l
                 WHERE l.locale = "de";              
  - changeSet:
      id: 0003.test-data.4
      author: codeschluss
      changes:
        - sql:
            comment: Add Landing Page and translatable
            splitStatements: true
            sql:           
                insert into pages (id, title_image_id, slug, seo_description, is_landing, call_url)
                select "7cefc60c-8325-4861-90c7-97f1e8eeb290", "1774bd91-1698-4c4a-8f16-3a0a98fdef32", "landing", null, true, "http://localhost:8010";
                
                insert into page_translatables (id, `name`, short_description, call_text, parent_id, language_id)
                select uuid(), "Wooportal", "Here you will find all event and news from your city", "Discover more", p.id, l.id
                from pages p, languages l
                WHERE p.slug = "landing" AND
                l.locale = "en";
                
                insert into page_translatables (id, `name`, short_description, call_text, parent_id, language_id)
                select uuid(), "Wooportal", "Hier findest du alle Events und Neuigkeiten aus deiner Stadt", "Entdecke mehr", p.id, l.id
                from pages p, languages l
                WHERE p.slug = "landing" AND
                l.locale = "de";
  - changeSet:
      id: 0003.test-data.5
      author: codeschluss
      changes:
        - sql:
            comment: Add Landing Page features
            splitStatements: true
            sql:           
                insert into page_features (id, `order`, feature_id, page_id)
                select uuid(), 0, f.id, '7cefc60c-8325-4861-90c7-97f1e8eeb290'
                from features f
                WHERE f.key = "events";
                
                insert into page_features (id, `order`, feature_id, page_id)
                select uuid(), 1, f.id, '7cefc60c-8325-4861-90c7-97f1e8eeb290'
                from features f
                WHERE f.key = "articles";
                
                insert into page_features (id, `order`, feature_id, page_id)
                select uuid(), 2, f.id, '7cefc60c-8325-4861-90c7-97f1e8eeb290'
                from features f
                WHERE f.key = "surveys";
                
                insert into page_features (id, `order`, feature_id, page_id)
                select uuid(), 3, f.id, '7cefc60c-8325-4861-90c7-97f1e8eeb290'
                from features f
                WHERE f.key = "contests";
                
                insert into page_features (id, `order`, feature_id, page_id)
                select uuid(), 4, f.id, '7cefc60c-8325-4861-90c7-97f1e8eeb290'
                from features f
                WHERE f.key = "calendar";
                
  - changeSet:
      id: 0003.test-data.6
      author: codeschluss
      changes:
        - sql:
            comment: Add data apps
            splitStatements: true
            sql: insert into apps (id, platform_id, url) values
              ('bcf6800f-d49f-4857-bd38-339b2cbad3f5', '9fc24c85-0ca6-4e20-a551-e77b58aff4f4', 'https://www.apple.com/app-store/'),
              ('7bacd58e-1824-492a-937c-5ec36b104d04', 'ab7a5460-2833-4d97-a36e-c00542d3e201', 'https://play.google.com');
              
  - changeSet:
      id: 0003.test-data.7
      author: codeschluss
      changes:
        - sql:
            comment: Update captcha sitekey to test key
            splitStatements: true
            sql: update configurations
                 set value = '10000000-ffff-ffff-ffff-000000000001'
                 where `key` = 'hCaptchaSitekey';
                 
  - changeSet:
      id: 0003.test-data.8
      author: codeschluss
      changes:
        - sql:
            comment: Add configurations
            splitStatements: true
            sql:
               insert into configurations (`id`, `key`, `value`, `media_id`) values
               ('701de29d-0170-48fa-aa71-12e899500de6', 'logo', null, '3e791600-8e00-4069-a060-4862c44da93b'),
               ('458f85bb-ee49-44fa-8bc8-538b52c7b5e4', 'logoText', null, '6c92cfcd-d65d-47d9-bdc5-b8004afe916c'),
               ('0ad29ce1-a519-417c-91c5-28a346185542', 'favicon', null, 'fc8a64b5-7335-4309-a5c1-e9d2de53c338');

  - changeSet:
      id: 0003.test-data.9
      author: codeschluss
      changes:
        - sql:
            comment: Add data deal-category
            splitStatements: true
            sql: insert into deal_categories (id, color, icon) values
              ('bcec76dd-d269-4081-af08-e3a9a72e9e00', '9#0000FF', 'icon');     
              
  - changeSet:
      id: 0003.test-data.10
      author: codeschluss
      changes:
        - sql:
            comment: Add data contacts
            splitStatements: true
            sql: insert into contacts (id, name, email) values
              ('3916b414-c2bf-4808-a401-284ac62df73d', 'guenther', 'guenther@example.com');                    
              
  - changeSet:
      id: 0003.test-data.11
      author: codeschluss
      changes:
        - sql:
            comment: Add data deals
            splitStatements: true
            sql: insert into deals (id, price, contact_id, category_id) values
              ('69f29c5f-5713-4549-902b-7157cb62b999', 5, '3916b414-c2bf-4808-a401-284ac62df73d', 'bcec76dd-d269-4081-af08-e3a9a72e9e00');    
              
  - changeSet:
      id: 0003.test-data.12
      author: codeschluss
      changes:
        - sql:
            comment: Add data deal_translatables
            splitStatements: true
            sql: insert into deal_translatables (id, parent_id, language_id, short_description, name)
                 select uuid(), "69f29c5f-5713-4549-902b-7157cb62b999", l.id, "GuterDeal!", "DealOne"
                 from languages l
                 WHERE l.locale = "de";     
                 
  - changeSet:
      id: 0003.test-data.13
      author: codeschluss
      changes:
        - sql:
            comment: Add data contest_type
            splitStatements: true
            sql: insert into contest_types (id, `key`) values
              ('112a561f-5d96-42dd-b851-62365e79147b', 'drawing');    
              
  - changeSet:
      id: 0003.test-data.14
      author: codeschluss
      changes:
        - sql:
            comment: Add data contest_state
            splitStatements: true
            sql: insert into contest_states (id, `key`) values
              ('41a73da0-6c95-4bfe-85a7-342c8dcf7da9', 'started');                             

  - changeSet:
      id: 0003.test-data.15
      author: codeschluss
      changes:
        - sql:
            comment: Add data contest
            splitStatements: true
            sql: insert into contests (id, due_date, card_image_id, type_id, state_id) values
              ('5dc59462-91f6-402d-82ae-a8fd65fbfa42', '2020-02-13 10:39:28', '08157b8b-b7db-437b-a210-017c9f50ba03', '112a561f-5d96-42dd-b851-62365e79147b', '41a73da0-6c95-4bfe-85a7-342c8dcf7da9');    
              
  - changeSet:
      id: 0003.test-data.16
      author: codeschluss
      changes:
        - sql:
            comment: Add data contest_translatables
            splitStatements: true
            sql: insert into contest_translatables (id, parent_id, language_id, short_description, name, description)
                 select uuid(), "5dc59462-91f6-402d-82ae-a8fd65fbfa42", l.id, "Feel free to join the very first art contest!", "DrawABike", "no description"
                 from languages l
                 WHERE l.locale = "de";
